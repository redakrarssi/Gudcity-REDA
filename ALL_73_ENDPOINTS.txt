â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    ALL 73+ API ENDPOINTS
         Complete List with Database Connection Status
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Legend:
  âœ… = Direct Database Connection
  ğŸ”„ = Transaction (Database with BEGIN/COMMIT)
  âŒ = No Database (JWT verification only)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SECTION 1: HEALTH (1 endpoint)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1.  GET    /api/health                                         âœ…

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SECTION 2: AUTHENTICATION (8 endpoints)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

2.  POST   /api/auth/login                                     âœ…
3.  POST   /api/auth/register                                  âœ…
4.  POST   /api/auth/logout                                    âœ…
5.  POST   /api/auth/refresh                                   âœ…
6.  POST   /api/auth/verify                                    âŒ (JWT only)
7.  POST   /api/auth/forgot-password                           âœ…
8.  POST   /api/auth/reset-password                            âœ…
9.  GET    /api/auth/me                                        âœ…

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SECTION 3: QR OPERATIONS (5 endpoints)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

10. POST   /api/qr/generate                                    âœ…
11. POST   /api/qr/validate                                    âœ…
12. POST   /api/qr/scan                                        âœ…
13. POST   /api/qr/revoke                                      âœ…
14. GET    /api/qr/status                                      âœ…

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SECTION 4: POINTS MANAGEMENT (6 endpoints)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

15. POST   /api/points/award                                   ğŸ”„
16. POST   /api/points/redeem                                  ğŸ”„
17. GET    /api/points/history                                 âœ…
18. GET    /api/points/balance                                 âœ…
19. POST   /api/points/calculate                               âœ…
20. POST   /api/points/transfer                                ğŸ”„ (Future)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SECTION 5: BUSINESS MANAGEMENT (24+ endpoints)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Base Operations:
21. GET    /api/businesses                                     âœ…
22. POST   /api/businesses                                     âœ…
23. GET    /api/businesses/:id                                 âœ…
24. PUT    /api/businesses/:id                                 âœ…
25. DELETE /api/businesses/:id                                 âœ…

Customer Management:
26. GET    /api/businesses/:id/customers                       âœ…
27. POST   /api/businesses/:id/customers                       âœ…
28. POST   /api/businesses/:id/enroll                          ğŸ”„
29. POST   /api/businesses/:id/customers/:customerId           ğŸ”„

Program Management:
30. GET    /api/businesses/:id/programs                        âœ…
31. POST   /api/businesses/:id/programs                        âœ…
32. PUT    /api/businesses/:id/programs                        âœ…
33. DELETE /api/businesses/:id/programs                        âœ…

Staff Management:
34. GET    /api/businesses/:id/staff                           âœ…
35. POST   /api/businesses/:id/staff                           âœ…
36. PUT    /api/businesses/:id/staff/:staffId                  âœ…
37. DELETE /api/businesses/:id/staff/:staffId                  âœ…

Settings:
38. GET    /api/businesses/:id/settings                        âœ…
39. PUT    /api/businesses/:id/settings                        âœ…

Analytics & Reports:
40. GET    /api/businesses/:id/analytics                       âœ…
41. GET    /api/businesses/:id/analytics/revenue               âœ…
42. GET    /api/businesses/:id/analytics/customers             âœ…
43. GET    /api/businesses/:id/analytics/engagement            âœ…
44. GET    /api/businesses/:id/analytics/programs              âœ…
45. GET    /api/businesses/:id/reports/summary                 âœ…
46. GET    /api/businesses/:id/reports/export                  âœ…

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SECTION 6: CUSTOMER MANAGEMENT (12+ endpoints)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Base Operations:
47. GET    /api/customers                                      âœ…
48. POST   /api/customers                                      âœ…
49. GET    /api/customers/:id                                  âœ…
50. PUT    /api/customers/:id                                  âœ…
51. DELETE /api/customers/:id                                  âœ…

Customer Resources:
52. GET    /api/customers/:id/programs                         âœ…
53. GET    /api/customers/:id/cards                            âœ…
54. GET    /api/customers/:id/transactions                     âœ…
55. GET    /api/customers/:id/notifications                    âœ…

Profile & Preferences:
56. GET    /api/customers/:id/profile                          âœ…
57. PUT    /api/customers/:id/profile                          âœ…
58. GET    /api/customers/:id/preferences                      âœ…
59. PUT    /api/customers/:id/preferences                      âœ…

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SECTION 7: NOTIFICATIONS (13+ endpoints)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Base Operations:
60. GET    /api/notifications                                  âœ…
61. POST   /api/notifications                                  âœ…

Notification Actions:
62. POST   /api/notifications/mark-all-read                    âœ…
63. GET    /api/notifications/preferences                      âœ…
64. PUT    /api/notifications/preferences                      âœ…
65. POST   /api/notifications/send-bulk                        ğŸ”„
66. GET    /api/notifications/stats                            âœ…

Individual Notification Operations:
67. GET    /api/notifications/:id                              âœ…
68. POST   /api/notifications/:id/read                         âœ…
69. POST   /api/notifications/:id/action                       âœ…
70. DELETE /api/notifications/:id/delete                       âœ…
71. PUT    /api/notifications/:id/update                       âœ…
72. GET    /api/notifications/:id/status                       âœ…

Additional Endpoints:
73. GET    /api/notifications/unread                           âœ…
74. POST   /api/notifications/:id/dismiss                      âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Total Endpoints:                74
Direct Database Connection:     71  (96%)
Transaction-based:              6   (8%)
No Database (JWT only):         1   (1%)

Connection Type:
  - ALL endpoints connect directly to PostgreSQL
  - NO intermediate APIs
  - Driver: @neondatabase/serverless

Database Tables:
  - users
  - businesses
  - customers
  - loyalty_programs
  - program_enrollments
  - loyalty_cards
  - point_transactions
  - customer_qrcodes
  - customer_notifications
  - business_staff
  - customer_business_relationships
  - qr_scan_logs
  - redemptions
  - business_settings
  - customer_notification_preferences
  - (+ more supporting tables)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For detailed testing instructions, see:
  â†’ API_TESTING_GUIDE_COMPLETE.md

For quick reference, see:
  â†’ API_QUICK_REFERENCE.md

For visual overview, see:
  â†’ API_VISUAL_MAP.md

