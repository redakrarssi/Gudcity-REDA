═══════════════════════════════════════════════════════════════════
                    ALL 73+ API ENDPOINTS
         Complete List with Database Connection Status
═══════════════════════════════════════════════════════════════════

Legend:
  ✅ = Direct Database Connection
  🔄 = Transaction (Database with BEGIN/COMMIT)
  ❌ = No Database (JWT verification only)

───────────────────────────────────────────────────────────────────
SECTION 1: HEALTH (1 endpoint)
───────────────────────────────────────────────────────────────────

1.  GET    /api/health                                         ✅

───────────────────────────────────────────────────────────────────
SECTION 2: AUTHENTICATION (8 endpoints)
───────────────────────────────────────────────────────────────────

2.  POST   /api/auth/login                                     ✅
3.  POST   /api/auth/register                                  ✅
4.  POST   /api/auth/logout                                    ✅
5.  POST   /api/auth/refresh                                   ✅
6.  POST   /api/auth/verify                                    ❌ (JWT only)
7.  POST   /api/auth/forgot-password                           ✅
8.  POST   /api/auth/reset-password                            ✅
9.  GET    /api/auth/me                                        ✅

───────────────────────────────────────────────────────────────────
SECTION 3: QR OPERATIONS (5 endpoints)
───────────────────────────────────────────────────────────────────

10. POST   /api/qr/generate                                    ✅
11. POST   /api/qr/validate                                    ✅
12. POST   /api/qr/scan                                        ✅
13. POST   /api/qr/revoke                                      ✅
14. GET    /api/qr/status                                      ✅

───────────────────────────────────────────────────────────────────
SECTION 4: POINTS MANAGEMENT (6 endpoints)
───────────────────────────────────────────────────────────────────

15. POST   /api/points/award                                   🔄
16. POST   /api/points/redeem                                  🔄
17. GET    /api/points/history                                 ✅
18. GET    /api/points/balance                                 ✅
19. POST   /api/points/calculate                               ✅
20. POST   /api/points/transfer                                🔄 (Future)

───────────────────────────────────────────────────────────────────
SECTION 5: BUSINESS MANAGEMENT (24+ endpoints)
───────────────────────────────────────────────────────────────────

Base Operations:
21. GET    /api/businesses                                     ✅
22. POST   /api/businesses                                     ✅
23. GET    /api/businesses/:id                                 ✅
24. PUT    /api/businesses/:id                                 ✅
25. DELETE /api/businesses/:id                                 ✅

Customer Management:
26. GET    /api/businesses/:id/customers                       ✅
27. POST   /api/businesses/:id/customers                       ✅
28. POST   /api/businesses/:id/enroll                          🔄
29. POST   /api/businesses/:id/customers/:customerId           🔄

Program Management:
30. GET    /api/businesses/:id/programs                        ✅
31. POST   /api/businesses/:id/programs                        ✅
32. PUT    /api/businesses/:id/programs                        ✅
33. DELETE /api/businesses/:id/programs                        ✅

Staff Management:
34. GET    /api/businesses/:id/staff                           ✅
35. POST   /api/businesses/:id/staff                           ✅
36. PUT    /api/businesses/:id/staff/:staffId                  ✅
37. DELETE /api/businesses/:id/staff/:staffId                  ✅

Settings:
38. GET    /api/businesses/:id/settings                        ✅
39. PUT    /api/businesses/:id/settings                        ✅

Analytics & Reports:
40. GET    /api/businesses/:id/analytics                       ✅
41. GET    /api/businesses/:id/analytics/revenue               ✅
42. GET    /api/businesses/:id/analytics/customers             ✅
43. GET    /api/businesses/:id/analytics/engagement            ✅
44. GET    /api/businesses/:id/analytics/programs              ✅
45. GET    /api/businesses/:id/reports/summary                 ✅
46. GET    /api/businesses/:id/reports/export                  ✅

───────────────────────────────────────────────────────────────────
SECTION 6: CUSTOMER MANAGEMENT (12+ endpoints)
───────────────────────────────────────────────────────────────────

Base Operations:
47. GET    /api/customers                                      ✅
48. POST   /api/customers                                      ✅
49. GET    /api/customers/:id                                  ✅
50. PUT    /api/customers/:id                                  ✅
51. DELETE /api/customers/:id                                  ✅

Customer Resources:
52. GET    /api/customers/:id/programs                         ✅
53. GET    /api/customers/:id/cards                            ✅
54. GET    /api/customers/:id/transactions                     ✅
55. GET    /api/customers/:id/notifications                    ✅

Profile & Preferences:
56. GET    /api/customers/:id/profile                          ✅
57. PUT    /api/customers/:id/profile                          ✅
58. GET    /api/customers/:id/preferences                      ✅
59. PUT    /api/customers/:id/preferences                      ✅

───────────────────────────────────────────────────────────────────
SECTION 7: NOTIFICATIONS (13+ endpoints)
───────────────────────────────────────────────────────────────────

Base Operations:
60. GET    /api/notifications                                  ✅
61. POST   /api/notifications                                  ✅

Notification Actions:
62. POST   /api/notifications/mark-all-read                    ✅
63. GET    /api/notifications/preferences                      ✅
64. PUT    /api/notifications/preferences                      ✅
65. POST   /api/notifications/send-bulk                        🔄
66. GET    /api/notifications/stats                            ✅

Individual Notification Operations:
67. GET    /api/notifications/:id                              ✅
68. POST   /api/notifications/:id/read                         ✅
69. POST   /api/notifications/:id/action                       ✅
70. DELETE /api/notifications/:id/delete                       ✅
71. PUT    /api/notifications/:id/update                       ✅
72. GET    /api/notifications/:id/status                       ✅

Additional Endpoints:
73. GET    /api/notifications/unread                           ✅
74. POST   /api/notifications/:id/dismiss                      ✅

═══════════════════════════════════════════════════════════════════
SUMMARY
═══════════════════════════════════════════════════════════════════

Total Endpoints:                74
Direct Database Connection:     71  (96%)
Transaction-based:              6   (8%)
No Database (JWT only):         1   (1%)

Connection Type:
  - ALL endpoints connect directly to PostgreSQL
  - NO intermediate APIs
  - Driver: @neondatabase/serverless

Database Tables:
  - users
  - businesses
  - customers
  - loyalty_programs
  - program_enrollments
  - loyalty_cards
  - point_transactions
  - customer_qrcodes
  - customer_notifications
  - business_staff
  - customer_business_relationships
  - qr_scan_logs
  - redemptions
  - business_settings
  - customer_notification_preferences
  - (+ more supporting tables)

═══════════════════════════════════════════════════════════════════

For detailed testing instructions, see:
  → API_TESTING_GUIDE_COMPLETE.md

For quick reference, see:
  → API_QUICK_REFERENCE.md

For visual overview, see:
  → API_VISUAL_MAP.md

